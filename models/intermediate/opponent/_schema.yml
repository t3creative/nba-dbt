version: 2

models:
  - name: int_opp__opponent_stats
    description: "Extended opponent team stats model combining game opponents and team boxscores"
    columns:
      - name: game_team_key
        description: "Unique identifier for team-game combination"
        tests:
          - unique
          - not_null
      - name: opp_def_rating
        description: "Opponent's defensive rating"
        tests:
          - not_null
          - dbt_utils.accepted_range:
              min_value: 80
              max_value: 140

  - name: feat_opp__position_defense_profile
    description: "Position-specific defensive metrics by opponent team"
    columns:
      - name: opponent_id
        tests:
          - not_null

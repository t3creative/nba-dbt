version: 2

models:
  - name: int_game_matchups
    description: "Intermediate model that parses matchup strings to identify home and away teams for each game"
    config:
      tags: ['game_context', 'intermediate']
    columns:
      - name: game_id
        description: "Unique identifier for each game"
        tests:
          - unique
          - not_null
      
      - name: season_year
        description: "Season identifier"
        tests:
          - not_null
      
      - name: game_date
        description: "Date of the game"
        tests:
          - not_null
      
      - name: home_team_id
        description: "Identifier for the home team"
        tests:
          - not_null
      
      - name: home_team_tricode
        description: "Three-letter code for the home team"
        tests:
          - not_null
      
      - name: away_team_id
        description: "Identifier for the away team"
        tests:
          - not_null
      
      - name: away_team_tricode
        description: "Three-letter code for the away team"
        tests:
          - not_null
      
      - name: created_at
        description: "Timestamp of when the record was created"

  - name: int_game_context
    description: "Intermediate model providing game context information including rest days and team performance"
    config:
      tags: ['game_context', 'intermediate']
    columns:
      - name: game_id
        description: "Unique identifier for each game"
        tests:
          - unique
          - not_null
      
      - name: game_date
        description: "Date of the game"
        tests:
          - not_null
      
      - name: season_year
        description: "Season identifier"
        tests:
          - not_null
      
      - name: season_type
        description: "Type of season (e.g., Regular Season, Playoffs)"
        
      - name: home_team_id
        description: "Identifier for the home team"
        tests:
          - not_null
      
      - name: away_team_id
        description: "Identifier for the away team"
        tests:
          - not_null
      
      - name: arena_id
        description: "Identifier for the arena"
      
      - name: arena_name
        description: "Name of the arena"
      
      - name: arena_city
        description: "City where the arena is located"
      
      - name: arena_state
        description: "State where the arena is located"
      
      - name: arena_country
        description: "Country where the arena is located"
      
      - name: home_prev_game_id
        description: "ID of the previous game for the home team"
      
      - name: home_prev_game_date
        description: "Date of the previous game for the home team"
      
      - name: home_rest_days
        description: "Number of rest days for the home team"
      
      - name: home_first_game_of_season
        description: "Flag indicating if this is the first game of the season for the home team"
      
      - name: home_back_to_back
        description: "Flag indicating if this is a back-to-back game for the home team"
      
      - name: home_short_rest
        description: "Flag indicating if the home team is on short rest (2-3 days)"
      
      - name: home_long_rest
        description: "Flag indicating if the home team is on long rest (4+ days)"
      
      - name: home_team_game_num
        description: "Game number for the home team in the season"
      
      - name: home_wins_last_10
        description: "Number of wins in the last 10 games for the home team"
      
      - name: home_losses_last_10
        description: "Number of losses in the last 10 games for the home team"
      
      - name: home_games_played_last_10
        description: "Number of games played in the last 10 for the home team"
      
      - name: home_win_pct_last_10
        description: "Win percentage in the last 10 games for the home team"
      
      - name: away_prev_game_id
        description: "ID of the previous game for the away team"
      
      - name: away_prev_game_date
        description: "Date of the previous game for the away team"
      
      - name: away_rest_days
        description: "Number of rest days for the away team"
      
      - name: away_first_game_of_season
        description: "Flag indicating if this is the first game of the season for the away team"
      
      - name: away_back_to_back
        description: "Flag indicating if this is a back-to-back game for the away team"
      
      - name: away_short_rest
        description: "Flag indicating if the away team is on short rest (2-3 days)"
      
      - name: away_long_rest
        description: "Flag indicating if the away team is on long rest (4+ days)"
      
      - name: away_team_game_num
        description: "Game number for the away team in the season"
      
      - name: away_wins_last_10
        description: "Number of wins in the last 10 games for the away team"
      
      - name: away_losses_last_10
        description: "Number of losses in the last 10 games for the away team"
      
      - name: away_games_played_last_10
        description: "Number of games played in the last 10 for the away team"
      
      - name: away_win_pct_last_10
        description: "Win percentage in the last 10 games for the away team"
      
      - name: is_playoff_game
        description: "Flag indicating if this is a playoff game"
      
      - name: is_late_season
        description: "Flag indicating if this is a late-season game (game 70+ in regular season)"
        
      - name: created_at
        description: "Timestamp of when the record was created"

 
 